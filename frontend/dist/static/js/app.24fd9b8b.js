(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1a1c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAyCAYAAAAayliMAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA5LTI4VDE0OjA4OjU0KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wOS0yOFQxNToyOTowNyswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wOS0yOFQxNToyOTowNyswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4ODhlMDIxMS1hY2RkLWQxNDEtYjkwOC02ZDcxNzM1NzBjZWQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozZjM4ZDA4OS1jNzc4LTk5NDEtYjYyYy02ZDU2YzA4MjZkMTEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmMTJlODhkMy01Yjk4LTI1NDgtODYwMC0xNjdjYjYwODVmMzYiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmYxMmU4OGQzLTViOTgtMjU0OC04NjAwLTE2N2NiNjA4NWYzNiIgc3RFdnQ6d2hlbj0iMjAyMC0wOS0yOFQxNDowODo1NCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg4OGUwMjExLWFjZGQtZDE0MS1iOTA4LTZkNzE3MzU3MGNlZCIgc3RFdnQ6d2hlbj0iMjAyMC0wOS0yOFQxNToyOTowNyswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjFozBEAAAPRSURBVGje1Zo9TBRBFMenwMTq8OBolMrEhlCBoVE7QmIFNCQkdBiqA4E7UdSgnkgk8VS8g/uoUCujCY0YCgtCh40J0YpOo4mGxIKCxEDG9+beuHvr3t7s7gzuFT/mLje78/+9nf2awDjnrJERf1LsVAK4ArwHegAWUXooI2ZN2AWGgI8AB94B7REM307ZOGUdsgukgJ/0o2QRaIpA8CbKYs+GWVN2gTgw7+iE/AJG/mP4EcrgzIVZ43YB5Axw4NIZ2QG6jzF4N43pluWAsjKnAPKoxkaSN0CbweBtNIZXhqzs7yZwDjiqswNkzkD4OfsYk6yZX/133CPKWFMAKSgIID+AQQ3BB2lfYr9TLMbHoZ2B9ob4XjVmwb5tLYFORQHJNtARIHgHbSv2Mw2MU5thcZ5nrbwI3IbvE3A0qF+nigDy0qcE8hyIKQSPUd+q4Dhd5iD4EmvhJZbgK9CWob0L7TgcDcrEVAXOBxBAftM9pVb4FPUR/bGyyC34nIVql4ACkKP2CTBNkpRJWQBZCyiBfAUu2/aFn7/I37HaSQiOc3wRql6k6ZKzURLVj8vqr7llrCdwIYSA5C1BJ2gleBpYgHDLELLkCC6r/wx+n6aTmrL4FkA2NEiI4JUTNMbvQTg8QcvU5lzA6mfENiL8Rq18KgK9YcPLE/QOVPQpBCuLE9Q9uFX9Vnv1e8MIIFtBw09CgFkI/piqWvAIXqP6W17ZVAUGgk4bbHNiuiTqBpfVX4K+Kav6AzoEmP2GowpOG7zK5D3muhMUvW9deT7Uy+VHYMT/9Gnm1+kILCscATn35bYqj/F+BJjH460WAUf1d1Qy+RUYMyXgUv0xEwLIrgmBUnX1d1XzBBGY0i0g7wnysktjGBM4CXzTKeCY+99pDGMCyKwuAZfq3/STJagArmDs6RDA6s9b1d+jfRsXQDJhBWT109a7b8ZvjjACp4H9MAJY/QdW9fdpn8cmwGh5I5AAfs9XVz8bJENYgbPAYRABWf1kpfqHtK9jF0CKfgVW6OEuDQJU/WLQ8XUIdPgVcMx9HnBJRpsAsqoqIKt/zar+apixdQl0qQpUqt9qr35XFASQ114CeQgurzwz9LJD27CoCFz0FqhUf0HM/b99LkVJAFl3e6WUz/uOub+uY0zdAn3VL/UxcaPC4C8AnPtJa+73RVEA2XRK4ILtQ9YiZGilYVPXeCYE+t1WJ+SyebryutgfZYF6SzDbOscyJTDsITDcCALIJ5fwn3WPY1Jg1EVgtJEEnEswuybGMC0wYROYaEQB/B+HV/TMc8KoQMP/v1Aj8wd4XIddvY9KvgAAAABJRU5ErkJggg=="},5617:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=a("ce5b"),r=a.n(i),s=(a("bf40"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{clipped:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-row",{staticClass:"fill-height",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"3"}},[a("v-navigation-drawer",{attrs:{"darken-4":"",clipped:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:"",nav:""}},t._l(t.items,(function(e){return a("v-list-item",{key:e.title,attrs:{to:e.url}},[a("v-list-item-action",[a("v-icon",{staticClass:"ml-1"},[t._v(t._s(e.icon))])],1),a("v-list-item-title",[t._v(t._s(e.title))])],1)})),1)],1)],1),a("v-col",[a("Chat")],1)],1)],1),a("v-app-bar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,app:"",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v("GoJackPot")])]),a("v-spacer"),t.user?a("span",[a("v-avatar",{attrs:{color:"primary",size:"56"}},[t.avatar?a("img",{attrs:{alt:"Avatar",src:t.avatar}}):a("v-icon",{attrs:{color:"green"},domProps:{textContent:t._s("?")}})],1),t._v(" "+t._s(t.user.username)+" ")],1):t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-bell")])],1)],1),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1)],1)}),o=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("v-toolbar",{attrs:{color:"grey darken-4",dark:""}},[a("v-icon",{staticClass:"ml-2 mr-1"},[t._v("mdi-account-group")]),t._v(" Chat ")],1),a("v-list",[t._l(t.items,(function(e,n){return[a("v-list-item",{key:n},[a("v-list-item-avatar",{directives:[{name:"show",rawName:"v-show",value:e.avatar,expression:"item.avatar"}]},[a("v-img",{attrs:{src:e.avatar}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:t._s(e.userName)}}),a("p",{staticClass:"text--secondary subtitle-2"},[t._v(t._s(e.msg))])],1)],1),a("v-divider",{key:n+10,attrs:{inset:e.inset}})]}))],2)],1),a("v-footer",{attrs:{fixed:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"8"}},[a("v-text-field",{staticClass:"ml-1 mr-4",attrs:{placeholder:"enter message"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendChat(e)}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"mt-4",on:{click:t.sendChat}},[a("v-icon",[t._v("mdi-send")])],1)],1)],1)],1)],1)},l=[],u={name:"Chat",mounted:function(){var t=this;this.$socketEvent("chat-message",(function(e){t.items.push(e)})),this.$socketEvent("chat-snapshot",(function(e){t.items=e.messages}))},data:function(){return{items:[],message:""}},methods:{sendChat:function(){n["default"].$socket.sendObj({type:"chat-message",data:{message:this.message}}),this.message=""}}},d=u,m=a("2877"),h=a("6544"),v=a.n(h),f=a("8336"),p=a("62ad"),g=a("ce7e"),b=a("553a"),E=a("132d"),w=a("adda"),A=a("8860"),k=a("da13"),S=a("8270"),y=a("5d23"),C=a("0fd9"),O=a("8654"),R=a("71d9"),T=Object(m["a"])(d,c,l,!1,null,null,null),V=T.exports;v()(T,{VBtn:f["a"],VCol:p["a"],VDivider:g["a"],VFooter:b["a"],VIcon:E["a"],VImg:w["a"],VList:A["a"],VListItem:k["a"],VListItemAvatar:S["a"],VListItemContent:y["a"],VListItemTitle:y["b"],VRow:C["a"],VTextField:O["a"],VToolbar:R["a"]});var _={components:{Chat:V},data:function(){return{dialog:!1,drawer:null,items:[{icon:"mdi-cash-usd",text:"Jackpot",url:"/"},{icon:"mdi-cog",text:"auth",url:"/account/edit"},{icon:"mdi-help-circle",text:"Help"}],source:{}}},created:function(){this.$vuetify.theme.dark=!0},computed:{user:function(){return this.$store.state.$auth.user},avatar:function(){return this.$store.getters["$auth/userAvatar"]}}},x=_,I=a("7496"),B=a("40dc"),M=a("5bc1"),j=a("8212"),L=a("a523"),N=a("1800"),P=a("f6c4"),D=a("f774"),G=a("2fa4"),U=a("2a7f"),F=Object(m["a"])(x,s,o,!1,null,null,null),$=F.exports;v()(F,{VApp:I["a"],VAppBar:B["a"],VAppBarNavIcon:M["a"],VAvatar:j["a"],VBtn:f["a"],VCol:p["a"],VContainer:L["a"],VIcon:E["a"],VList:A["a"],VListItem:k["a"],VListItemAction:N["a"],VListItemTitle:y["b"],VMain:P["a"],VNavigationDrawer:D["a"],VRow:C["a"],VSpacer:G["a"],VToolbarTitle:U["a"]});a("45fc");var Z=a("8c4f"),W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{light:"",color:"primary"}},[a("v-toolbar-title",[t._v("Login / Register")])],1),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",rules:t.emailRules,required:"","data-cy":"signinEmailField"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"username",label:"Username",type:"text",rules:t.usernameRules,required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-lock-question",name:"password",label:"Password",type:"password","data-cy":"signinPasswordField",rules:t.passwordRules,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:!t.valid,loading:t.loading,"data-cy":"signinSubmitBtn"},on:{click:function(e){return t.submit("register")}}},[t._v("Register")]),a("v-btn",{attrs:{color:"secondary",disabled:!t.valid,loading:t.loading,"data-cy":"signinSubmitBtn"},on:{click:function(e){return t.submit("login")}}},[t._v("Login")])],1)],1),a("div",[t.error?a("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e()],1)],1)],1)],1)},Y=[],z=a("5530"),J=a("2f62"),Q={name:"Signin",computed:Object(z["a"])({},Object(J["c"])("$auth",["error","loading"])),data:function(){return{valid:!1,email:"",password:"",username:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t.length>=6||"Password must be greater than 6 characters"}],usernameRules:[function(t){return!!t||"Username"},function(t){return t.length>=4||"Username must be greater than 6 characters"}]}},methods:{submit:function(t){this.$refs.form.validate()&&this.$store.dispatch("$auth/".concat(t),{email:this.email,password:this.password,username:this.username})}}},H=Q,X=a("0798"),K=a("b0af"),q=a("99d9"),tt=a("0e8f"),et=a("4bd4"),at=a("a722"),nt=Object(m["a"])(H,W,Y,!1,null,null,null),it=nt.exports;v()(nt,{VAlert:X["a"],VBtn:f["a"],VCard:K["a"],VCardActions:q["a"],VCardText:q["b"],VContainer:L["a"],VFlex:tt["a"],VForm:et["a"],VLayout:at["a"],VSpacer:G["a"],VTextField:O["a"],VToolbar:R["a"],VToolbarTitle:U["a"]});var rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-card",{staticClass:"elevation-12",staticStyle:{width:"100%"}},[a("v-toolbar",{attrs:{light:"",color:"primary"}},[a("v-toolbar-title",[t._v("Edit profile")])],1),a("v-card-text",[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",disabled:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"username",label:"Username",disabled:"",type:"text"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),a("v-row",{staticClass:"ml-0"},[a("v-file-input",{attrs:{"show-size":"","truncate-length":"15",label:"Avatar"},model:{value:t.avatar,callback:function(e){t.avatar=e},expression:"avatar"}}),a("v-avatar",{attrs:{color:"primary",size:"56"}},[t.user.avatar?a("img",{attrs:{alt:"Avatar",src:t.userAvatar}}):a("v-icon",{attrs:{color:"green"},domProps:{textContent:t._s("?")}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:t.loading},on:{click:t.submit}},[t._v("Opslaan")])],1)],1),a("div")],1)},st=[],ot=a("bc3a"),ct=a.n(ot),lt={name:"UserProfile",computed:Object(z["a"])(Object(z["a"])({},Object(J["c"])("$auth",["error","user"])),Object(J["b"])("$auth",["userAvatar"])),data:function(){return{avatar:[],loading:!1}},methods:{submit:function(){this.uploadAvatar()},uploadAvatar:function(){var t=this;this.loading=!0;var e=(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_BASE_URL||"/api/v1")+"/accounts",a=new FormData;a.append("avatar",this.avatar),ct.a.post("".concat(e,"/avatar"),a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.user.token}}).then((function(e){t.$store.commit("$auth/SET_USER",e.data),t.loading=!1})).catch((function(t){console.log(t)}))}}},ut=lt,dt=a("23a7"),mt=Object(m["a"])(ut,rt,st,!1,null,null,null),ht=mt.exports;v()(mt,{VAvatar:j["a"],VBtn:f["a"],VCard:K["a"],VCardActions:q["a"],VCardText:q["b"],VContainer:L["a"],VFileInput:dt["a"],VForm:et["a"],VIcon:E["a"],VRow:C["a"],VSpacer:G["a"],VTextField:O["a"],VToolbar:R["a"],VToolbarTitle:U["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-col",[a("GameStatsBar")],1),a("v-col",[a("Game")],1),a("v-col",[a("Bet")],1)],1)},ft=[],pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"darken-1",attrs:{shaped:""}},[a("p",{staticClass:"text-center pa-4"},[a("v-icon",{staticStyle:{"font-size":"64px"}},[t._v("mdi-av-timer")]),t._v(" %"+t._s(t.share.toFixed(2))+" ")],1)])],1),a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"darken-1",attrs:{shaped:""}},[a("p",{staticClass:"text-center pa-4"},[a("v-icon",{staticStyle:{"font-size":"64px"}},[t._v("mdi-cash-usd-outline ")]),t._v(" $"+t._s(t.totalBet.toFixed(2))+" ")],1)])],1),a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"darken-1",attrs:{shaped:""}},[a("p",{staticClass:"text-center pa-4"},[a("v-icon",{staticClass:"mr-2",staticStyle:{"font-size":"64px"}},[t._v("mdi-gamepad-circle-up ")]),t._v(" "+t._s(t.players)+" players ")],1)])],1)],1)},gt=[],bt=(a("7db0"),a("d81d"),a("13d5"),{name:"GameStatsBar",data:function(){return{}},computed:{userBet:function(){var t=this;return this.$store.state.$game.game.userBets?this.$store.state.$game.game.userBets.find((function(e){return e.player.id===t.$store.state.$auth.user.ID})):{}},share:function(){return this.userBet&&this.userBet.share?this.userBet.share:0},totalBet:function(){return this.userBet&&this.userBet.bets?this.userBet.bets.map((function(t){return t.amount})).reduce((function(t,e){return t+e})):0},players:function(){return this.$store.state.$game.game.userBets?this.$store.state.$game.game.userBets.length:0}}}),Et=bt,wt=Object(m["a"])(Et,pt,gt,!1,null,null,null),At=wt.exports;v()(wt,{VCard:K["a"],VCol:p["a"],VIcon:E["a"],VRow:C["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"darken-1 pa-4",attrs:{shaped:""}},[a("v-card-title",[t._v(" Jackpot")]),a("div",[a("div",{attrs:{id:"wheel"}},[a("JackpotWheel",{ref:"wheel",attrs:{pool:t.pool,"offset-degrees":270,"font-color":"white","idle-speed":1,"chart-width":60,"time-left":t.timeLeft,"winner-text":t.winnerText},on:{stopped:t.onStopped}})],1),t.userBets?t._e():a("div",[t._v(" Place bets ")]),a("v-expansion-panels",{attrs:{popout:""}},t._l(t.game.userBets,(function(e,n){return a("v-expansion-panel",{key:n,attrs:{"hide-actions":""}},[a("v-expansion-panel-header",[a("v-row",{staticClass:"spacer",attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"2"}},[a("v-avatar",{attrs:{size:"36px"}},[a("img",{attrs:{alt:"Avatar",src:t.getAvatar(e.player.avatar)}})])],1),a("v-col",{attrs:{cols:"6"}},[a("strong",{domProps:{innerHTML:t._s(e.player.email)}})]),a("v-col",{staticClass:"text-no-wrap",attrs:{cols:"4"}},[a("v-chip",{staticClass:"ml-0 mr-2 black--text",attrs:{color:"light",label:""}},[a("strong",{staticClass:"mr-1"},[t._v(" €"+t._s(e.bets.map((function(t){return t.amount})).reduce((function(t,e){return t+e})).toFixed(2))+",- ")])])],1)],1)],1),a("v-expansion-panel-content",[a("strong",[t._v("Bets placed")]),a("v-divider"),a("v-card-text",t._l(e.bets,(function(e){return a("ul",{key:e.Created},[a("li",[a("span",[t._v("€"+t._s(e.amount)+",-")])])])})),0)],1)],1)})),1)],1)],1)},St=[],yt=(a("caad"),a("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"wrapper"}},[n("canvas",{ref:"canvas"}),n("img",{style:t.tickerRotationDegrees,attrs:{src:a("1a1c"),id:"pointer",alt:"Pointer"}})])}),Ct=[];a("cb29"),a("4160"),a("b680"),a("d3b7"),a("159b");function Ot(t){return t*(Math.PI/180)}function Rt(t){return 57.2957795*t}function Tt(t){return 2*Math.PI/100*t}function Vt(t){return 1+--t*t*t*t*t}function _t(t,e){return t*Math.cos(e)}function xt(t,e){return t*Math.sin(e)}function It(t){return t*(2-t)}function Bt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64;return new Promise((function(n){var i=document.createElement("canvas"),r=i.getContext("2d"),s=new Image;s.src=t,s.onload=function(){i.width=e,i.height=a,r.save(),r.beginPath(),r.arc(.5*e,.5*a,.5*e,0,2*Math.PI,!0),r.closePath(),r.clip(),r.drawImage(s,0,0,e,a),r.beginPath(),r.arc(0,0,2,0,2*Math.PI,!0),r.clip(),r.closePath(),r.restore(),n(i)}}))}a("a9e3");var Mt={props:{pool:{type:Array,required:!0,default:function(){return[]}},timeLeft:{type:Number,default:function(){return 0}},winnerText:{type:String,default:function(){return null}},offsetDegrees:{type:Number,default:function(){return 0}},idleSpeed:{type:Number,default:function(){return 0}},bgColor:String,font:String,fontColor:String,chartWidth:Number,drawTotal:Object},data:function(){return{width:0,height:0,state:"idle",sliceMiddle:0,canvas:null,radiansOffset:0,radiansExtra:0,tickerRotation:0,tickerHit:0,colors:["#620F17","#5C2056","#2E102C","#F7B000","#E76E35","#CB4856","#BF1E2E","#961823"]}},mounted:function(){this.radiansOffset=Ot(this.offsetDegrees)},methods:{getColor:function(t){var e=t%this.colors.length;return e>=this.colors.length?this.getColor(e):this.colors[e]}},computed:{total:function(){return this.pool.reduce((function(t,e){return t+e.amount}),0)},backgroundColor:function(){return this.bgColor},sliceWidth:function(){var t;return null!==(t=this.chartWidth)&&void 0!==t?t:60}},watch:{pool:{immediate:!0,handler:function(t){t.forEach((function(t){t.addedAt||(t.addedAt=Date.now()),t.image||Bt(t.avatar).then((function(e){t.image=e}))}))}}}},jt={name:"JackpotWheel",mixins:[Mt],data:function(){return{index:0,ticker:a("1a1c")}},mounted:function(){var t=this;this.canvas=this.$refs.canvas.getContext("2d");var e=this.$el.getClientRects()[0],a=e.width,n=e.height;this.width=a,this.height=n,this.sliceMiddle=a/2-this.sliceWidth/2,this.$refs.canvas.width=a,this.$refs.canvas.height=n;var i=new Image;i.onload=function(){i.width=48,t.ticker=i,t.draw()},i.src=this.ticker},methods:{spin:function(t){var e=this,a=-Tt(t)+2*Math.PI*10;this.radiansExtra=this.radiansExtra%(2*Math.PI),this.state="resetting",this.animate(Date.now(),!0,It,1e3,this.radiansExtra,Ot(-120)).then((function(){setTimeout((function(){e.state="spinning",e.animate(Date.now(),!1,Vt,1e4,0,a).then((function(){e.$emit("stopped"),e.state="winner-picked"}))}),1e3)}))},reset:function(){this.state="idle"},draw:function(){var t=this;if(this.canvas.clearRect(0,0,this.width,this.height),this.tickerRotation>0){var e=1/350*Math.min(350,Date.now()-this.tickerHit);this.tickerRotation=Math.max(this.tickerRotation-It(e),0)}this.backgroundColor&&(this.canvas.fillStyle=this.backgroundColor,this.canvas.rect(0,0,this.width,this.height),this.canvas.fill());var a=+(this.radiansOffset+this.radiansExtra).toFixed(4);if(this.pool.forEach((function(e,n){var i=Date.now()-e.addedAt,r=Math.min(1,.002*i),s=+(t.getSliceRadiansOnIndex(n)*r).toFixed(4),o=a+s/2;t.canvas.beginPath(),t.canvas.strokeStyle=t.getColor(n),t.canvas.arc(t.width/2,t.height/2,t.width/2*.8,a,a+s),t.canvas.lineWidth=t.sliceWidth,t.canvas.stroke();var c=a%(2*Math.PI);t.radiansOffset-c>0&&t.radiansOffset-c<.05&&(t.tickerHit=Date.now(),t.tickerRotation=Math.min(60,t.tickerRotation+10)),s>.26&&e.image&&t.canvas.drawImage(e.image,t.width/2+_t(t.sliceMiddle,o)-e.image.width/4,t.height/2+xt(t.sliceMiddle,o)-e.image.height/4,e.image.width/2,e.image.height/2),a+=s})),this.canvas.textAlign="center",this.canvas.textBaseline="middle","function"===typeof this.drawTotal)this.drawTotal(this.canvas,this.width/2,this.height/2,this.total);else{var n,i,r,s;if(this.canvas.fillStyle=null!==(n=this.fontColor)&&void 0!==n?n:"black",this.canvas.font=null!==(i=this.font)&&void 0!==i?i:"bold 24px serif",this.canvas.fillText("$".concat(this.total.toFixed(2)),this.width/2,this.height/2),this.timeLeft&&"winner-picked"!==this.state)this.canvas.font=null!==(r=this.font)&&void 0!==r?r:"bold 36px serif",this.canvas.fillText("".concat(this.timeLeft<=1?"GET READY!":this.timeLeft),this.width/2,this.height/2-40);if("winner-picked"===this.state&&this.winnerText)this.canvas.font=null!==(s=this.font)&&void 0!==s?s:"25px serif",this.canvas.fillText(this.winnerText,this.width/2,this.height/2-40)}this.idleSpeed>0&&"idle"===this.state&&(this.radiansExtra+=Ot(this.idleSpeed)),requestAnimationFrame(this.draw)},getSliceRadiansOnIndex:function(t){var e=100/this.total*this.pool[t].amount/100,a=360*e;return Ot(a)},getSliceRangeOnIndex:function(t){for(var e=0,a=0;a<t;a++)e+=this.getSliceRadiansOnIndex(a);var n=e+this.getSliceRadiansOnIndex(t);return{startRadians:e,endRadians:n,difference:Math.abs(n-e)}},animate:function(t,e,a,n,i,r,s){var o,c=this;s||(o=new Promise((function(t){return s=t})));var l=Date.now(),u=n>0?(l-t)/n:1,d=Math.abs(i-r);return this.radiansExtra=e?i-d*a(u):i+d*a(u),u>=1?(this.radiansExtra=r,s()):requestAnimationFrame((function(){return c.animate(t,e,a,n,i,r,s)})),o}},computed:{radiansToDegrees:function(){return Rt},tickerRotationDegrees:function(){return{transform:"rotate(".concat(-this.tickerRotation,"deg)")}},degreesToRadians:function(){return Ot}}},Lt=jt,Nt=(a("ae61"),Object(m["a"])(Lt,yt,Ct,!1,null,"044af4a6",null)),Pt=Nt.exports,Dt={name:"Game",components:{JackpotWheel:Pt},data:function(){return{winnerText:""}},mounted:function(){var t=this;this.$socketEvent("winner-picked",(function(e){t.$refs.wheel.spin(e.percentage),t.winnerText=e.player.email+" wins!"}))},methods:{getAvatar:function(t){return"1"!==Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEVELOPMENT||t.includes("bear")?t:"http://localhost:5001/"+t},onStopped:function(){var t=this;setTimeout((function(){t.$refs.wheel.reset()}),1e4)},onSliceClicked:function(t){console.log(t)}},computed:{pool:function(){var t=this;return this.game.userBets?this.game.userBets.map((function(e){return{name:e.player.username||e.player.email,amount:e.bets.map((function(t){return t.amount})).reduce((function(t,e){return t+e})),avatar:t.getAvatar(e.player.avatar)}})):[]},game:function(){return this.$store.state.$game.game},userBets:function(){return this.game.userBets},timeLeft:function(){return this.$store.state.$game.timeLeft},winner:function(){return this.$store.state.$game.winner},gameState:function(){var t=["idle","inProgress","ended","winnerPicked"],e=this.$store.state.$game.game.state||0;return t[e]}}},Gt=Dt,Ut=(a("dee0"),a("cc20")),Ft=a("cd55"),$t=a("49e2"),Zt=a("c865"),Wt=a("0393"),Yt=Object(m["a"])(Gt,kt,St,!1,null,"d55782da",null),zt=Yt.exports;v()(Yt,{VAvatar:j["a"],VCard:K["a"],VCardText:q["b"],VCardTitle:q["c"],VChip:Ut["a"],VCol:p["a"],VDivider:g["a"],VExpansionPanel:Ft["a"],VExpansionPanelContent:$t["a"],VExpansionPanelHeader:Zt["a"],VExpansionPanels:Wt["a"],VRow:C["a"]});var Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"darken-1",attrs:{shaped:""}},[a("div",{staticClass:"pa-4"},[a("v-card-title",[t._v("Place a bet")]),a("v-form",{ref:"form",staticClass:"mt-4"},[a("v-row",[a("v-slider",{staticClass:"align-center col-12 p-4",attrs:{"append-icon":"mdi-currency-usd","prepend-icon":"mdi-currency-usd-off",max:250,"thumb-label":"always",min:1,"hide-details":""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),a("div",{staticClass:"text-right mr-4"},[a("v-btn",{staticClass:"mr-4",attrs:{disabled:!1,color:"secondary",loading:t.placingBet},on:{click:t.placeBet}},[t._v(" Place bet ")]),a("v-btn",{attrs:{color:"red"},on:{click:t.fakeBet}},[t._v(" Fake bets ")])],1)],1)],1)])},Qt=[],Ht={name:"Bet",data:function(){return{placingBet:!1,amount:0}},methods:{placeBet:function(){this.placingBet=!0,this.$store.dispatch("sendSocket",{type:"place-bet",data:{amount:this.amount}}),this.placingBet=!1,this.amount=0},fakeBet:function(){this.$store.dispatch("$game/fakeBets")}}},Xt=Ht,Kt=a("ba0d"),qt=Object(m["a"])(Xt,Jt,Qt,!1,null,"936a9736",null),te=qt.exports;v()(qt,{VBtn:f["a"],VCard:K["a"],VCardTitle:q["c"],VForm:et["a"],VRow:C["a"],VSlider:Kt["a"]});var ee={name:"jackpot",components:{GameStatsBar:At,Game:zt,Bet:te},data:function(){return{bet:{amount:0}}},computed:{currentUsers:function(){return this.$store.state.$game.currentUsers}}},ae=ee,ne=Object(m["a"])(ae,vt,ft,!1,null,"7ddfe6c1",null),ie=ne.exports;v()(ne,{VCol:p["a"],VContainer:L["a"]});var re={Authenticated:function(t){return t.authenticated},userAvatar:function(t){return"1"===Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEVELOPMENT?"http://localhost:5001/"+t.user.avatar:t.user.avatar}},se=a("d4ec"),oe=function t(e){var a=e.email,n=e.username,i=e.avatar,r=e.token;Object(se["a"])(this,t),this.email=a,this.username=n,this.avatar=i,this.token=r},ce={SET_USER:function(t,e){t.user=new oe(e),localStorage.setItem("user",JSON.stringify(t.user))},REMOVE_USER:function(t){t.user=null},SET_AUTHENTICATED:function(t,e){t.authenticated=e},SET_ERROR:function(t,e){t.error=e},SET_LOADING:function(t,e){t.loading=e}},le={user:void 0,authenticated:!1,error:"",loading:!1},ue=(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_BASE_URL||"/api/v1")+"/accounts",de={login:function(t,e){var a=t.commit,n=t.dispatch,i=e.email,r=e.password,s=e.username;a("SET_LOADING",!0),ct.a.post("".concat(ue,"/login"),{email:i,password:r,username:s}).then((function(t){var e=t.data;a("SET_USER",e),a("SET_ERROR",null),n("sendSocket",{type:"auth",data:e},{root:!0}),localStorage.setItem("user",JSON.stringify(e)),Re.push("/")})).catch((function(t){a("SET_ERROR","Invalid credentials, try again"),console.log(t)})).finally((function(){a("SET_LOADING",!1)}))},register:function(t,e){var a=t.commit,n=t.dispatch,i=e.email,r=e.password,s=e.username;a("SET_LOADING",!0),ct.a.post("".concat(ue,"/register"),{email:i,password:r,username:s}).then((function(t){var e=t.data;a("SET_USER",e),a("SET_ERROR",null),n("sendSocket",{type:"auth",data:e},{root:!0}),localStorage.setItem("user",JSON.stringify(e)),Re.push("/")})).catch((function(t){a("SET_ERROR","email already in use, consider another"),console.log(t)})).finally((function(){a("SET_LOADING",!1)}))}},me={namespaced:!0,getters:re,mutations:ce,state:le,actions:de},he={},ve=function t(e){var a=e.amount;Object(se["a"])(this,t),this.amount=a},fe=function t(e){var a=e.id,n=e.username,i=e.avatar,r=e.email;Object(se["a"])(this,t),this.id=a,this.username=n,this.email=r,this.avatar=i},pe=function t(e){var a=e.share,n=e.startTicket,i=e.endTicket,r=e.bets,s=e.player;Object(se["a"])(this,t),this.share=a,this.startTicket=n,this.endTicket=i,this.bets=r.map((function(t){return new ve(t)})),this.player=new fe(s)},ge=function t(e){var a=e.id,n=e.state,i=e.userBets;Object(se["a"])(this,t),this.id=a,this.state=n,this.userBets=i.map((function(t){return new pe(t)}))},be={SET_CURRENT_USERS:function(t,e){t.currentUsers=e},SET_GAME:function(t,e){t.game=new ge(e),console.log(t.game)},SET_TIME_LEFT:function(t,e){t.timeLeft=e}},Ee={chatMessages:[],currentUsers:[],game:{},winner:{user:{},percentage:0,ticket:0,amount:0},timeLeft:null},we=(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_BASE_URL||"/api/v1")+"/game",Ae={fakeBets:function(){ct.a.post("".concat(we,"/test/bets/random")).then((function(){})).catch((function(t){console.log(t)}))}},ke={namespaced:!0,getters:he,mutations:be,state:Ee,actions:Ae},Se={};n["default"].prototype.$socketEvent=function(t,e){Se[t]||(Se[t]=[]),Se[t].push(e)};var ye=function(t){t.subscribe((function(e){if("SOCKET_ONMESSAGE"===e.type){var a=e.payload,n=a.type,i=a.data;switch(Se[n]&&Se[n].forEach((function(t){return t(i)})),n){case"current-users":t.commit("$game/SET_CURRENT_USERS",i.users);break;case"current-game":t.commit("$game/SET_GAME",i.game);break;case"new-game":t.commit("$game/SET_TIME_LEFT",null),t.commit("$game/SET_GAME",i.game);break;case"start-game":t.commit("$game/SET_GAME",i.game);break;case"bet-placed":t.commit("$game/SET_GAME",i.game);break;case"shares-updated":t.commit("$game/SET_GAME",i.game);break;case"time-left":t.commit("$game/SET_TIME_LEFT",i.timeLeft);break;case"invalid-user":localStorage.setItem("user",JSON.stringify(i)),t.commit("$auth/SET_USER",null),Re.push("/auth");break;default:return}}}))};n["default"].use(J["a"]);var Ce=new J["a"].Store({state:{socket:{isConnected:!1,message:{},reconnectError:!1}},mutations:{SOCKET_ONOPEN:function(t,e){n["default"].$socket=e.currentTarget,t.$auth.user&&n["default"].$socket.sendObj({type:"auth",data:t.$auth.user}),t.socket.isConnected=!0},SOCKET_ONCLOSE:function(t){t.socket.isConnected=!1},SOCKET_ONERROR:function(t,e){console.error(t,e)},SOCKET_ONMESSAGE:function(t,e){t.socket.message=e},SOCKET_RECONNECT:function(t,e){console.info(t,e)},SOCKET_RECONNECT_ERROR:function(t){t.socket.reconnectError=!0}},actions:{sendSocket:function(t,e){n["default"].$socket.sendObj(e)}},modules:{$auth:me,$game:ke},plugins:[ye]});n["default"].use(Z["a"]);var Oe=new Z["a"]({routes:[{path:"/auth",name:"Auth",component:it,meta:{authRequired:!1}},{path:"/",name:"jackpot",component:ie,meta:{authRequired:!0}},{path:"/account/edit",name:"userProfile",component:ht,meta:{authRequired:!0}}]});Oe.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.authRequired})))if(Ce.state.$auth.user)a();else{var n=JSON.parse(window.localStorage.getItem("user"));if(n)return Ce.commit("$auth/SET_USER",n),a();a({path:"/auth"})}else a()}));var Re=Oe,Te=(a("99af"),a("b408")),Ve=a.n(Te),_e={install:function(t){var e="";e=location.hostname.includes("localhost")?Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SOCKET_URL||"ws://".concat(location.hostname,":5001/ws"):Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SOCKET_URL||"wss://".concat(location.hostname,":").concat(location.port,"/ws"),t.use(Ve.a,"".concat(e),{store:Ce,format:"json"})}};n["default"].config.productionTip=!1,n["default"].use(_e),n["default"].use(r.a),n["default"].prototype.$store=Ce,new n["default"]({render:function(t){return t($)},store:Ce,router:Re,vuetify:new r.a({theme:{dark:!0}})}).$mount("#app")},ae61:function(t,e,a){"use strict";var n=a("5617"),i=a.n(n);i.a},bead:function(t,e,a){},dee0:function(t,e,a){"use strict";var n=a("bead"),i=a.n(n);i.a}});
//# sourceMappingURL=app.24fd9b8b.js.map