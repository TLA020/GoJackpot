(function(t){function e(e){for(var n,s,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("ce5b"),o=a.n(r),s=(a("bf40"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t._l(t.items,(function(e){return[e.heading?a("v-row",{key:e.heading,attrs:{align:"center"}},[a("v-col",{attrs:{cols:"6"}},[e.heading?a("v-subheader",[t._v(" "+t._s(e.heading)+" ")]):t._e()],1),a("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[a("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[t._v("EDIT")])])],1):e.children?a("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(e.text)+" ")])],1)]},proxy:!0}],null,!0),model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"item.model"}},t._l(e.children,(function(e,n){return a("v-list-item",{key:n,attrs:{to:e.url}},[t._v(" link > "),e.icon?a("v-list-item-action",[a("v-icon",[t._v(t._s(e.icon))])],1):t._e(),a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(e.text)+" ")])],1)],1)})),1):a("v-list-item",{key:e.text,attrs:{link:"",to:e.url}},[a("v-list-item-action",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(e.text)+" ")])],1)],1)]}))],2)],1),a("v-app-bar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,app:"",color:"blue darken-3",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v("Devtobs")])]),a("v-spacer"),t.user?a("span",[t._v(" "+t._s(t.user.email)+" ")]):t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-apps")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-bell")])],1),a("v-btn",{attrs:{icon:"",large:""}})],1),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1)],1)}),i=[],c={data:function(){return{dialog:!1,drawer:null,items:[{icon:"mdi-home",text:"Home",url:"/"},{icon:"mdi-cash-usd",text:"Jackpot",url:"/jackpot"},{icon:"mdi-cog",text:"Settings"},{icon:"mdi-help-circle",text:"Help"}],source:{}}},computed:{user:function(){return this.$store.state.$auth.user}}},l=c,u=a("2877"),d=a("6544"),m=a.n(d),v=a("7496"),p=a("40dc"),f=a("5bc1"),b=a("8336"),_=a("62ad"),h=a("a523"),E=a("132d"),g=a("8860"),S=a("56b0"),O=a("da13"),y=a("1800"),k=a("5d23"),V=a("f6c4"),w=a("f774"),R=a("0fd9"),T=a("2fa4"),x=a("e0c7"),C=a("2a7f"),$=Object(u["a"])(l,s,i,!1,null,null,null),L=$.exports;m()($,{VApp:v["a"],VAppBar:p["a"],VAppBarNavIcon:f["a"],VBtn:b["a"],VCol:_["a"],VContainer:h["a"],VIcon:E["a"],VList:g["a"],VListGroup:S["a"],VListItem:O["a"],VListItemAction:y["a"],VListItemContent:k["a"],VListItemTitle:k["b"],VMain:V["a"],VNavigationDrawer:w["a"],VRow:R["a"],VSpacer:T["a"],VSubheader:x["a"],VToolbarTitle:C["a"]});a("45fc");var U=a("8c4f"),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Home")]),a("pre",[t._v("Welcome "+t._s(t.user.email))])])},N=[],j={name:"Home",data:function(){return{}},computed:{user:function(){return this.$store.state.$auth.user}},mounted:function(){this.$socketEvent("authorized",(function(){console.log("authorized from sokcethandler")}))}},I=j,P=Object(u["a"])(I,A,N,!1,null,"565bff72",null),G=P.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{light:"",color:"primary"}},[a("v-toolbar-title",[t._v("Login / Register")])],1),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",rules:t.emailRules,required:"","data-cy":"signinEmailField"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-lock-question",name:"password",label:"Password",type:"password","data-cy":"signinPasswordField",rules:t.passwordRules,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:!t.valid,loading:t.loading,"data-cy":"signinSubmitBtn"},on:{click:function(e){return t.submit("register")}}},[t._v("Register")]),a("v-btn",{attrs:{color:"secondary",disabled:!t.valid,loading:t.loading,"data-cy":"signinSubmitBtn"},on:{click:function(e){return t.submit("login")}}},[t._v("Login")])],1)],1),a("div",[t.error?a("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e()],1)],1)],1)],1)},D=[],K=a("5530"),M=a("2f62"),q={name:"Signin",computed:Object(K["a"])({},Object(M["b"])("$auth",["error","loading"])),data:function(){return{valid:!1,email:"",password:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t.length>=6||"Password must be greater than 6 characters"}]}},methods:{submit:function(t){this.$refs.form.validate()&&this.$store.dispatch("$auth/".concat(t),{email:this.email,password:this.password})}}},H=q,F=a("0798"),J=a("b0af"),W=a("99d9"),z=a("0e8f"),Y=a("4bd4"),Q=a("a722"),X=a("8654"),Z=a("71d9"),tt=Object(u["a"])(H,B,D,!1,null,null,null),et=tt.exports;m()(tt,{VAlert:F["a"],VBtn:b["a"],VCard:J["a"],VCardActions:W["a"],VCardText:W["b"],VContainer:h["a"],VFlex:z["a"],VForm:Y["a"],VLayout:Q["a"],VSpacer:T["a"],VTextField:X["a"],VToolbar:Z["a"],VToolbarTitle:C["a"]});var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"8"}},[a("v-card",{staticClass:"mx-auto"},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:""}},[a("v-toolbar-title",[t._v("Game info")]),a("v-spacer")],1),a("div",{staticClass:"bet-controls pa-8"},[a("Game")],1)],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto"},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:""}},[a("v-toolbar-title",[t._v("Users online")]),a("v-spacer")],1),a("UsersOnline"),a("v-divider")],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"8"}},[a("v-card",{staticClass:"mx-auto"},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:""}},[a("v-toolbar-title",[t._v("Play")]),a("v-spacer")],1),a("div",{staticClass:"bet-controls pa-8"},[a("Bet",{model:{value:t.bet.amount,callback:function(e){t.$set(t.bet,"amount",e)},expression:"bet.amount"}})],1)],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto"},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:""}},[a("v-toolbar-title",[t._v("Game history")]),a("v-spacer")],1),a("div",[a("LastGames")],1)],1)],1)],1)],1)},nt=[],rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" ()()()() ")])},ot=[],st={name:"Game"},it=st,ct=Object(u["a"])(it,rt,ot,!1,null,"2fa5c4e4",null),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-tabs",[a("v-tab",[t._v("Last Games")]),a("v-tab",[t._v("My Games")]),a("v-tab",[t._v("24H Ranking")])],1),a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Winner")]),a("th",{staticClass:"text-left"},[t._v("Total pot")]),a("th",{staticClass:"text-left"},[t._v("Total profit")])])]),a("tbody",[a("tr",[a("td",[t._v("Karel Camo")]),a("td",[t._v("€ 23.40")]),a("td",[t._v("€ 8.23")])]),a("tr",[a("td",[t._v("Tjabo Camo")]),a("td",[t._v("€ 13.40")]),a("td",[t._v("€ 10.28")])]),a("tr",[a("td",[t._v("Karel Camo")]),a("td",[t._v("€ 144.40")]),a("td",[t._v("€ 45.30")])])])]},proxy:!0}])})],1)},dt=[],mt={name:"LastGames"},vt=mt,pt=a("1f4f"),ft=a("71a3"),bt=a("fe57"),_t=Object(u["a"])(vt,ut,dt,!1,null,"5ccebcee",null),ht=_t.exports;m()(_t,{VSimpleTable:pt["a"],VTab:ft["a"],VTabs:bt["a"]});var Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-row",[a("v-slider",{staticClass:"align-center col-8 p-4",attrs:{"append-icon":"mdi-currency-usd","prepend-icon":"mdi-currency-usd-off",max:100,"thumb-label":"always",min:1,"hide-details":""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),a("v-btn",{staticClass:"mr-4",attrs:{color:"warning"}},[t._v(" Reset ")]),a("v-btn",{attrs:{disabled:!1,color:"success"}},[t._v(" Place bet ")])],1)},gt=[],St=(a("a9e3"),{name:"Bet",props:{value:{type:Number,required:!1,default:0}},computed:{amount:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{placeBet:function(){this.$store.dispatch("sendSocket",{name:"place-bet",data:{amount:Math.floor(50*Math.random())+1}})}}}),Ot=St,yt=a("ba0d"),kt=Object(u["a"])(Ot,Et,gt,!1,null,"c1bc9c1a",null),Vt=kt.exports;m()(kt,{VBtn:b["a"],VForm:Y["a"],VRow:R["a"],VSlider:yt["a"]});var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{attrs:{subheader:""}},t._l(t.currentUsers,(function(e){return a("v-list-item",{key:e.Email,staticClass:"mt-1"},[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.getAvatar(e.Email)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.Email)}})],1)],1)})),1)},Rt=[],Tt={name:"UsersOnline",computed:{currentUsers:function(){return this.$store.state.$game.currentUsers}},methods:{getAvatar:function(t){return"https://api.adorable.io/avatars/".concat(t)}}},xt=Tt,Ct=a("adda"),$t=a("8270"),Lt=Object(u["a"])(xt,wt,Rt,!1,null,"3d69c83e",null),Ut=Lt.exports;m()(Lt,{VImg:Ct["a"],VList:g["a"],VListItem:O["a"],VListItemAvatar:$t["a"],VListItemContent:k["a"],VListItemTitle:k["b"]});var At={name:"jackpot",components:{Bet:Vt,UsersOnline:Ut,Game:lt,LastGames:ht},data:function(){return{bet:{amount:0}}},methods:{},computed:{currentUsers:function(){return this.$store.state.$game.currentUsers}}},Nt=At,jt=a("ce7e"),It=Object(u["a"])(Nt,at,nt,!1,null,"38648774",null),Pt=It.exports;m()(It,{VCard:J["a"],VCol:_["a"],VContainer:h["a"],VDivider:jt["a"],VRow:R["a"],VSpacer:T["a"],VToolbar:Z["a"],VToolbarTitle:C["a"]});var Gt={Authenticated:function(t){return t.authenticated}},Bt={SET_USER:function(t,e){t.user=e},REMOVE_USER:function(t){t.user=null},SET_AUTHENTICATED:function(t,e){t.authenticated=e},SET_ERROR:function(t,e){t.error=e},SET_LOADING:function(t,e){t.loading=e}},Dt={user:null,authenticated:!1,error:"",loading:!1},Kt=(a("d3b7"),a("bc3a")),Mt=a.n(Kt),qt=(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_BASE_URL||"/api/v1")+"/accounts",Ht={login:function(t,e){var a=t.commit,n=t.dispatch,r=e.email,o=e.password;a("SET_LOADING",!0),Mt.a.post("".concat(qt,"/login"),{email:r,password:o}).then((function(t){var e=t.data;a("SET_USER",e),a("SET_ERROR",null),n("sendSocket",{event:"auth",data:e},{root:!0}),localStorage.setItem("user",JSON.stringify(e)),ae.push("/")})).catch((function(t){a("SET_ERROR","Invalid credentials, try again"),console.log(t)})).finally((function(){a("SET_LOADING",!1)}))},register:function(t,e){var a=t.commit,n=t.dispatch,r=e.email,o=e.password;a("SET_LOADING",!0),Mt.a.post("".concat(qt,"/register"),{email:r,password:o}).then((function(t){var e=t.data;a("SET_USER",e),a("SET_ERROR",null),n("sendSocket",{event:"auth",data:e},{root:!0}),localStorage.setItem("user",JSON.stringify(e)),ae.push("/")})).catch((function(t){a("SET_ERROR","email already in use, consider another"),console.log(t)})).finally((function(){a("SET_LOADING",!1)}))}},Ft={namespaced:!0,getters:Gt,mutations:Bt,state:Dt,actions:Ht},Jt={},Wt={SET_CURRENT_USERS:function(t,e){t.currentUsers=e}},zt={currentUsers:[],inGame:[],lastWinner:{},currentWinner:{},currentGame:{},timeLeft:{}},Yt={doWhat:function(t){var e=t.commit;e("SET_LOADING",!0)}},Qt={namespaced:!0,getters:Jt,mutations:Wt,state:zt,actions:Yt},Xt=(a("4160"),a("159b"),{});n["default"].prototype.$socketEvent=function(t,e){Xt[t]||(Xt[t]=[]),Xt[t].push(e)};var Zt=function(t){t.subscribe((function(e){if("SOCKET_ONMESSAGE"===e.type){var a=e.payload,n=a.event,r=a.data;switch(Xt[n]&&Xt[n].forEach((function(t){return t(r)})),n){case"current-users":t.commit("$game/SET_CURRENT_USERS",r.users),console.log("SET CURRENT PLAYERS");break;default:return}}}))};n["default"].use(M["a"]);var te=new M["a"].Store({state:{socket:{isConnected:!1,message:{},reconnectError:!1}},mutations:{SOCKET_ONOPEN:function(t,e){n["default"].$socket=e.currentTarget,t.$auth.user.token&&n["default"].$socket.sendObj({event:"auth",data:t.$auth.user}),t.socket.isConnected=!0},SOCKET_ONCLOSE:function(t){t.socket.isConnected=!1},SOCKET_ONERROR:function(t,e){console.error(t,e)},SOCKET_ONMESSAGE:function(t,e){t.socket.message=e},SOCKET_RECONNECT:function(t,e){console.info(t,e)},SOCKET_RECONNECT_ERROR:function(t){t.socket.reconnectError=!0}},actions:{sendSocket:function(t,e){n["default"].$socket.sendObj(e)}},modules:{$auth:Ft,$game:Qt},plugins:[Zt]});n["default"].use(U["a"]);var ee=new U["a"]({routes:[{path:"/",name:"Home",component:G,meta:{authRequired:!0}},{path:"/auth",name:"Auth",component:et,meta:{authRequired:!1}},{path:"/jackpot",name:"jackpot",component:Pt,meta:{authRequired:!0}}]});ee.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.authRequired})))if(te.state.$auth.user)a();else{var n=JSON.parse(window.localStorage.getItem("user"));if(n)return te.commit("$auth/SET_USER",n),a();a({path:"/auth"})}else a()}));var ae=ee,ne=(a("99af"),a("caad"),a("2532"),a("b408")),re=a.n(ne),oe={install:function(t){var e="";e=location.hostname.includes("localhost")?Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SOCKET_URL||"ws://".concat(location.hostname,":5001/ws"):Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SOCKET_URL||"wss://".concat(location.hostname,":").concat(location.port,"/ws"),t.use(re.a,"".concat(e),{store:te,format:"json"})}};n["default"].config.productionTip=!1,n["default"].use(oe),n["default"].use(o.a),n["default"].prototype.$store=te,new n["default"]({render:function(t){return t(L)},store:te,router:ae,vuetify:new o.a({theme:{dark:!1}})}).$mount("#app")}});
//# sourceMappingURL=app.01eee5b2.js.map